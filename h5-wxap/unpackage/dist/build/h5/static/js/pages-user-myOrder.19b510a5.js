(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-myOrder"],{"061a":function(t,e,i){"use strict";i.r(e);var a=i("06ef"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},"06ef":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("440f")),s={data:function(){return{state:1,isPopup:!1,myOrder:{},myOrder2:{},list:[],orderId:"",StatusBar:""}},methods:{goBack:function(){this.$store.commit("choiceFooter",3),uni.reLaunch({url:"./index"})},choice:function(t){this.state=t,this.list=[],1==t&&null!=this.myOrder2.ALL&&(this.list=this.myOrder2.ALL),2==t&&null!=this.myOrder2.UN_FINISH&&(this.list=this.myOrder2.UN_FINISH),3==t&&null!=this.myOrder2.TO_GET_GOODS&&(this.list=this.myOrder2.TO_GET_GOODS),4==t&&null!=this.myOrder2.FINISH&&(this.list=this.myOrder2.FINISH),5==t&&null!=this.myOrder2.REFUND&&(this.list=this.myOrder2.REFUND)},showPopup:function(t){this.orderId=t,n.default.receiveRebate(this)},close:function(){this.isPopup=!1},continueSubmit:function(t){this.orderId=t,n.default.continueOrder(this)},goBill:function(){uni.navigateTo({url:"./bill"})},goBalance:function(){uni.navigateTo({url:"./balance"})},cancel:function(t){n.default.manualCancelOrder(this,t)},share:function(t){uni.navigateTo({url:"../index/shareProducts?goodsId="+t})}},onLoad:function(t){uni.setNavigationBarTitle({title:this.$store.state.navigationBarTitle||"我的订单"}),this.state=t.state;var e=this;uni.getSystemInfo({success:function(t){e.StatusBar=t.statusBarHeight}})},onShow:function(){n.default.queryOrder(this)}};e.default=s},"440f":function(t,e,i){"use strict";function a(t){t.$reqHttp({url:"/queryMyIndex",data:{userId:t.$store.state.userData.id},success:function(e){t.userData=e.data.result}})}function n(t){t.$reqHttp({url:"/queryOrder",data:{userId:t.$store.state.userData.id},success:function(e){t.myOrder.ALL=e.data.result.ALL||[],t.myOrder.UN_FINISH=e.data.result.UN_FINISH||[],t.myOrder.TO_GET_GOODS=e.data.result.TO_GET_GOODS||[],t.myOrder2=e.data.result||[],1==t.state&&(t.list=e.data.result.ALL||[]),2==t.state&&(t.list=e.data.result.UN_FINISH||[]),3==t.state&&(t.list=e.data.result.TO_GET_GOODS||[]),4==t.state&&(t.list=e.data.result.FINISH||[]),5==t.state&&(t.list=e.data.result.REFUND||[])}})}function s(t){t.$reqHttp({url:"/continueOrder",data:{orderId:t.orderId},success:function(t){var e=t.data.result.step;5==e&&uni.navigateTo({url:"/pages/index/confirm-order?orderData="+JSON.stringify(t.data.result)}),1!=e&&2!=e&&3!=e&&4!=e&&10!=e||uni.navigateTo({url:"/pages/index/exchange?continueData="+JSON.stringify(t.data.result)})}})}function r(t){t.$reqHttp({url:"/receiveRebate",data:{orderId:t.orderId},success:function(e){e.data.success&&(t.isPopup=!0)}})}function o(t){t.$reqHttp({url:"/queryOrderDetail",data:{userId:t.$store.state.userData.id},success:function(e){e.data.success&&(t.list=e.data.result)}})}function l(t,e){t.$reqHttp({url:"/manualCancelOrder",data:{orderClaimId:e},success:function(e){e.data.success?(t.$message("取消成功"),n(t)):t.$message(e.data.message)}})}function c(t){t.$reqHttp({url:"/cashOut",data:{userId:t.$store.state.userData.id},success:function(e){e.data.success?(u(t),a(t),t.$message("提现成功"),t.balance=0):t.$message(e.data.message)}})}function u(t){t.$reqHttp({url:"/queryGetCashDetail",data:{userId:t.$store.state.userData.id},success:function(e){e.data.success&&(t.list=e.data.result)}})}function d(t){t.$reqHttp({url:"/shareWxApp",data:{userId:t.$store.state.userData.id},success:function(e){if(!e.data.success)return t.$message(e.data.message),void uni.hideLoading();t.list=e.data.result}})}function f(t){t.$reqHttp({url:"/queryInvitationEvaluatePage",data:{userId:t.$store.state.userData.id},success:function(e){t.evaData=e.data.result}})}function g(t,e){t.$reqHttp({url:"/queryOrderEvaluatePageByStatus",data:{userId:t.$store.state.userData.id,status:e,pageVo:{order:"",pageNumber:1,pageSize:10,sort:""}},success:function(e){t.evaData=e.data.result}})}function v(t){t.$reqHttp({url:"/getEvaluateForFreeCard",data:{orderId:t.order.orderId},success:function(e){t.evaData=e.data.result}})}function p(t){t.$reqHttp({url:"/uploadEvaluationScreenshot",data:{goodsId:t.evaData.goodsId,orderId:t.evaData.orderId,evaluatePoolId:t.evaData.evaluatePoolId,pic:t.uploadData},success:function(e){if(e.data.success){if(t.$message("提交成功"),201==e.data.code)return void(t.showPupop=!0);setTimeout((function(){uni.navigateBack({})}),1e3)}else t.$message("提交失败")}})}function b(t,e){t.$reqHttp({url:"/getPicByOrderEvaluateId",data:{orderEvaluateId:e.orderEvaluateId},success:function(e){e.data.success&&(t.capimg=e.data.result.pic)}})}function h(t,e){t.$reqHttp({url:"/userToCancelOrderEvaluate",data:{orderEvaluateId:e.orderEvaluateId},success:function(e){e.data.success&&(t.$message("撤回成功"),g(t,1))}})}function w(t,e){t.$reqHttp({url:"/getFreeOfChargeCard",data:{orderId:e.orderId,orderEvaluateId:e.orderEvaluateId},success:function(e){e.data.success?(t.$message("领取成功"),g(t,2)):t.$message("领取失败")}})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var m={queryMyIndex:a,queryOrder:n,continueOrder:s,receiveRebate:r,queryOrderDetail:o,manualCancelOrder:l,queryGetCashDetail:u,cashOut:c,shareWxApp:d,queryEvaOrders:f,queryOrderEvaluate:g,getEvaluateForFreeCard:v,submitEva:p,getcapimg:b,cancelEva:h,getfreeCard:w};e.default=m},"49e8":function(t,e,i){"use strict";i.r(e);var a=i("7c83"),n=i("061a");for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("dc35"),i("9ea5");var r,o=i("f0c5"),l=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"788f0904",null,!1,a["a"],r);e["default"]=l.exports},"4c38":function(t,e,i){var a=i("7135");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("a6b24b76",a,!0,{sourceMap:!1,shadowMode:!1})},7135:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".scroll-class[data-v-788f0904]{max-height:calc(100vh - 88px)}.return[data-v-788f0904]{display:-webkit-box;display:-webkit-flex;display:flex;background:#fff;position:fixed;top:0;left:0;width:100%}.return uni-image[data-v-788f0904]{height:%?37?%;width:%?22?%;display:block;padding:%?24?% %?20?%;position:absolute;bottom:0;z-index:9}.return .custom[data-v-788f0904]{position:relative;height:100%;width:100%;text-align:center}.return .custom uni-text[data-v-788f0904]{position:absolute;bottom:%?20?%;left:0;right:0;font-size:1rem}.main[data-v-788f0904]{padding-top:%?88?%}\n/* 头部 */.top[data-v-788f0904]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;height:%?88?%;background:#fff;position:fixed;top:0;left:0}.top uni-view[data-v-788f0904]{width:20%;text-align:center;font-size:%?28?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#999}.top uni-view.on[data-v-788f0904]{font-size:%?28?%;font-family:PingFangSC-Medium,PingFang SC;font-weight:500;color:#eb1c24}\n/* 内容 */.item[data-v-788f0904]{margin:%?24?% %?24?% %?24?%;padding:0 %?24?% %?32?%;background:#fff;border-radius:%?16?%}.title[data-v-788f0904]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;font-size:%?24?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#999;height:%?79?%;border-bottom:%?1?% solid #e8e8e8}.grey-text[data-v-788f0904]{font-size:%?26?%;font-family:PingFangSC-Medium,PingFang SC;font-weight:500;color:#999}.title .red-text[data-v-788f0904]{color:#eb1c24}.title .yellow-text[data-v-788f0904]{color:#ff8500}.content[data-v-788f0904]{display:-webkit-box;display:-webkit-flex;display:flex;margin:%?24?% 0 %?32?%}.content uni-image[data-v-788f0904]{width:%?160?%;height:%?160?%;display:block;margin-right:%?16?%;-webkit-flex-shrink:0;flex-shrink:0}.describe[data-v-788f0904]{width:%?478?%;font-size:%?26?%;font-family:PingFangSC-Medium,PingFang SC;font-weight:700;color:#333;line-height:%?37?%;margin-bottom:%?24?%}.number[data-v-788f0904]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;font-size:%?28?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#999;line-height:%?40?%}.price[data-v-788f0904]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.present-price[data-v-788f0904]{font-size:%?36?%;font-family:PingFangSC-Medium,PingFang SC;font-weight:500;color:#eb1c24;line-height:30px}.present-price uni-text[data-v-788f0904]{font-size:%?22?%}.original-price[data-v-788f0904]{margin-left:%?16?%;font-size:%?22?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#999;line-height:%?30?%;text-decoration:line-through}.cash-back[data-v-788f0904]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.cash-back-right[data-v-788f0904]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.estimate[data-v-788f0904]{font-size:%?24?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#666}.estimate uni-text[data-v-788f0904]{color:#eb1c24}.btn[data-v-788f0904]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.btn uni-view[data-v-788f0904]{padding:0 %?24?%;line-height:%?56?%;font-size:%?24?%;border-radius:%?28?%;margin-left:%?24?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400}.grey-border[data-v-788f0904]{border:1px solid hsla(0,0%,75.7%,.99);color:#666}.red-border[data-v-788f0904]{border:%?1?% solid rgba(235,28,36,.99);color:#eb1c24}.yellow-border[data-v-788f0904]{color:#ff8500;border:1px solid rgba(255,133,0,.99)}\n/* 没有相关订单呦 */.no-order[data-v-788f0904]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;font-size:%?26?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#666;line-height:%?37?%;margin-top:%?288?%}.no-order uni-image[data-v-788f0904]{width:%?280?%;height:%?280?%;display:block;margin-bottom:%?40?%}\n/* 弹窗 */.popup[data-v-788f0904]{position:fixed;background:rgba(0,0,0,.6);display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;top:0;left:0;right:0;bottom:0}.popup-content[data-v-788f0904]{width:%?560?%;background:#fff;border-radius:%?16?%;font-size:%?36?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#333;line-height:%?50?%;position:relative;padding:%?66?% 0 %?40?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.popup-content .close-img[data-v-788f0904]{width:%?44?%;height:%?44?%;display:block;position:absolute;top:%?24?%;right:%?24?%}.popup-content .withdrawal-logo[data-v-788f0904]{width:%?160?%;height:%?168?%;display:block;margin:0 0 %?38?%}.popup-content .withdrawal[data-v-788f0904]{margin-top:%?50?%;width:%?300?%;border-radius:%?35?%;line-height:%?70?%;background:#eb1c24;text-align:center;font-size:%?32?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#fff}",""]),t.exports=e},"7c83":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"return",style:[{height:t.StatusBar+44+"px"}]},[i("v-uni-image",{style:[{marginTop:t.StatusBar+8+"px"}],attrs:{src:"http://47.111.232.251:8106/path?name=1605065637175.png",mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goBack.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"custom"},[i("v-uni-text",[t._v("我的订单")])],1)],1),i("v-uni-view",{staticClass:"main",style:[{marginTop:t.StatusBar+44+"px"}]},[i("v-uni-view",{staticClass:"top",style:[{top:t.StatusBar+44+"px"}]},[i("v-uni-view",{class:1==t.state?"on":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.choice(1)}}},[t._v("全部")]),i("v-uni-view",{class:2==t.state?"on":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.choice(2)}}},[t._v("待完成")]),i("v-uni-view",{class:3==t.state?"on":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.choice(3)}}},[t._v("待收货")]),i("v-uni-view",{class:4==t.state?"on":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.choice(4)}}},[t._v("已完成")]),i("v-uni-view",{class:5==t.state?"on":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.choice(5)}}},[t._v("已退款")])],1),i("v-uni-scroll-view",{staticClass:"scroll-class",attrs:{"scroll-y":"true"}},[t._l(t.list,(function(e,a){return t.list.length>0?i("v-uni-view",{key:a,staticClass:"item"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-view",[t._v("订单编号："+t._s(null!=e.orderNo?e.orderNo:""))]),i("v-uni-view",{class:"未完成"==e.statusStr?"red-text":"待收货"==e.statusStr?"yellow-text":"grey-text"},[t._v(t._s(e.statusStr))])],1),i("v-uni-view",{staticClass:"content"},[i("v-uni-image",{attrs:{src:e.mainPic,mode:""}}),i("v-uni-view",[i("v-uni-view",{staticClass:"describe eli2"},[t._v(t._s(e.title))]),i("v-uni-view",{staticClass:"number"},[i("v-uni-view",{staticClass:"price"},[i("v-uni-view",{staticClass:"present-price"},[i("v-uni-text",[t._v("¥")]),t._v(t._s(e.spreadAmt))],1),i("v-uni-view",{staticClass:"original-price"},[t._v("￥"+t._s(e.dealAmt))])],1),i("v-uni-view",[t._v("x"+t._s(e.number))])],1)],1)],1),i("v-uni-view",{class:"已退款"==e.state?"cash-back-right":"cash-back"},[i("v-uni-view",{staticClass:"estimate"},[t._v("预计返现："),i("v-uni-text",[t._v("¥"+t._s(e.rebateAmt))])],1),i("v-uni-view",{staticClass:"btn"},["未完成"==e.statusStr?i("v-uni-view",{staticClass:"grey-border",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.cancel(e.orderClaimId)}}},[t._v("取消订单")]):t._e(),"未完成"==e.statusStr?i("v-uni-view",{staticClass:"red-border",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.continueSubmit(e.orderId)}}},[t._v("继续提交")]):t._e(),"待收货"==e.statusStr?i("v-uni-view",{staticClass:"yellow-border",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.share(e.goodsId)}}},[t._v("分享好友")]):t._e(),"已完成"==e.statusStr&&0==e.rebateStatus?i("v-uni-view",{staticClass:"red-border",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showPopup(e.orderId)}}},[t._v("领取返利")]):t._e(),"已完成"==e.statusStr&&1==e.rebateStatus?i("v-uni-view",{staticClass:"grey-border",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goBill.apply(void 0,arguments)}}},[t._v("查看返利")]):t._e()],1)],1)],1):t._e()})),t.list.length<1?i("v-uni-view",{staticClass:"no-order"},[i("v-uni-image",{attrs:{src:"http://47.111.232.251:8106/path?name=1605005567295.png",mode:""}}),i("v-uni-view",[t._v("没有相关订单呦")])],1):t._e(),t.isPopup?i("v-uni-view",{staticClass:"popup"},[i("v-uni-view",{staticClass:"popup-content"},[i("v-uni-image",{staticClass:"close-img",attrs:{src:"http://47.111.232.251:8106/path?name=1605065690229.png",mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}}),i("v-uni-image",{staticClass:"withdrawal-logo",attrs:{src:"http://47.111.232.251:8106/path?name=1605065766310.png",mode:""}}),i("v-uni-view",[t._v("返现领取成功！")]),i("v-uni-view",{staticClass:"withdrawal",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goBalance.apply(void 0,arguments)}}},[t._v("微信提现")])],1)],1):t._e()],2)],1)],1)},s=[]},"9ea5":function(t,e,i){"use strict";var a=i("4c38"),n=i.n(a);n.a},"9eea":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,"uni-page-body[data-v-788f0904]{overflow:hidden;width:100%;height:100%}",""]),t.exports=e},dc35:function(t,e,i){"use strict";var a=i("f04f"),n=i.n(a);n.a},f04f:function(t,e,i){var a=i("9eea");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("6c2bc4a6",a,!0,{sourceMap:!1,shadowMode:!1})}}]);